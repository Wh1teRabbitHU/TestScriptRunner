{"version":3,"sources":["test-script-runner-babel.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","TestRunner","TestCase","TestStep","window","TestScriptRunner","console","log","./models/test-case","2","message","errorObj","_classCallCheck","this","BaseException","name","constructor","JSON","stringify","captureStackTrace","3","FunctionNotFound","_BaseException","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","apply","arguments","_inherits","./base","4","OutOfBound","_BaseException2","5","_BaseException3","StepNotFound","6","StepNotFoundException","FIRST_STEP_ID","_ref","description","stepCounter","_createClass","key","value","testRunner","caseNumber","caseCounter","testStep","testSteps","push","setTestCase","currentStepNumber","runCurrentStep","OutOfBoundException","stepId","self","currentStep","step","stepNumber","run","../exceptions/out-of-bound","../exceptions/step-not-found","7","TestResult","_ref2","returnValue","runNumber","success","8","testCases","testCase","setTestRunner","9","FunctionNotFoundException","_ref3","fn","lastResult","parentCase","testResult","error","../exceptions/function-not-found","./test-result"],"mappings":"63BAAA,WAAoc,OAAxb,SAASA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATC,SAAqBA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEX,EAAEG,IAAIS,YAAYb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAkD,IAA1C,IAAIL,EAAkB,mBAATD,SAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,GAAlc,EAAA,EAAkda,GAAG,SAAST,EAAQU,EAAOJ,GAG7e,IAAIK,EAAaX,EAAQ,wBACrBY,EAAaZ,EAAQ,sBACrBa,EAAab,EAAQ,2BAEa,IAA3Bc,OAAOC,iBACjBD,OAAOC,kBACNJ,WAAYA,EATbC,SAAAA,EAAWC,SAAWpB,GAAiCqB,OAAGE,QAAMC,IAAA,uDAAuKC,qBAAYZ,EAAAA,uBAAyBD,EAAEC,qBAAQ,IAAWa,GAAA,SAAAnB,EAAAU,EAAAJ,GA8BlSI,EAAOJ,QA9B4aV,SAAAA,EAAAwB,EAAAC,GAAAC,gBAAAC,KAAAC,GAA3BD,KAAmCE,KAAAF,KAAAG,YAAAD,KAASF,KAAAH,QAAAA,QAAA,IAAAC,EAAA,GAAA,cAAAM,KAAAC,UAAAP,EAAA,KAAA,IAAA,gBACpclB,MAAA0B,kBAAAN,KAAAA,KAAAG,mBAMII,GAAA,SAAOhB,EAAOC,EAAAA,GAGhBH,IAAAA,EAFyBZ,EAAA,UAA1B+B,EADqC,SAAAC,GAAA,SAAAD,IAAA,OAAAT,gBAAAC,KAAAQ,GAAAE,2BAAAV,MAAAQ,EAAAG,WAAAC,OAAAC,eAAAL,IAAAM,MAAAd,KAAAe,YAAA,OAAAC,UAAAR,EACrCP,GADqCO,EAAA,GAOrCjB,EAAAA,QAAAiB,IACAS,SAAA,IAAAC,GAAA,SAAAzC,EAAAU,EAAAJ,GA2BD,IAAMkB,EAAgBxB,EAAQ,UArBE0C,EAN/B,SAAAC,GAAA,SAAAD,IAAA,OAAApB,gBAAAC,KAAAmB,GAAAT,2BAAAV,MAAAmB,EAAAR,WAAAC,OAAAC,eAAAM,IAAAL,MAAAd,KAAAe,YAAA,OAAAC,UAAAG,EAM+BlB,GAN/BkB,EAAA,GAOChC,EAAAJ,QAAYoC,IACZF,SAAKpB,IAALwB,GAAexB,SAAAA,EAAkBC,EAAAA,GAGjC,IAV6GG,EAAAxB,EAAA,UAc/GU,EAP+C,SAAAmC,GAAA,SAAAC,IAAA,OAAAxB,gBAAAC,KAAAuB,GAAAb,2BAAAV,MAAAuB,EAAAZ,WAAAC,OAAAC,eAAAU,IAAAT,MAAAd,KAAAe,YAAA,OAAAC,UAAAO,EAO9BtB,GAP8BsB,EAAA,GAS/CpC,EAAAJ,QAAAwC,IAuBGN,SAAS,IAAIO,GAAG,SAAS/C,EAAQU,EAAOJ,GAxBF,IAKnCyB,EALmC/B,EAAA,8BAAAgD,EAAAhD,EAAA,gCAAAiD,EAAA,EAgCnCrC,EAR6C,WAxBV,SAAAA,EAAAsC,GAAA,IAAAzB,EAAAyB,EAAAzB,KAAA0B,EAAAD,EAAAC,YAAA7B,gBAAAC,KAAAX,GAmCvCW,KAAKE,KAAOA,EAnC2BF,KAAA4B,YAAAA,EAAA5B,KAKVC,aAiC7BD,KAAK6B,YAAc,EA/BrB1C,KAAAA,kBAAiBqB,EAiBkC,OAAAsB,aAAAzC,IAAA0C,IAAA,gBAAAC,MAAA,SAkBpCC,GA/BfjC,KAAMC,WAAAA,EAiCJD,KAAKkC,aAAeD,EAAWE,eApBkBJ,IAAA,cAAAC,MAAA,SAuBtCI,GAvCsCpC,KAAAqC,UAAAC,KAAAF,GA0CjDA,EAASG,YAAYvC,SA1B4B+B,IAAA,cAAAC,MAAA,WAhBA,OAAAhC,KAAAwC,kBAAAd,KAgBAK,IAAA,cAAAC,MAAA,WAhBjC,OAQfhC,KAAAwC,kBAAgBxC,KAASvB,eAQuBsD,IAAA,cAAAC,MAAA,WAsCjD,GAAIhC,KAAKwC,mBAAqBd,EA9CmB,MAK7CH,IAAAA,EAL6C,2EAAAW,WAAAlC,KAAAkC,WAiD/CM,kBAAmBxC,KAAKwC,oBAM1B,OAvDiDxC,KAAAwC,oBAuD1CxC,KAAKyC,oBA/CqCV,IAAA,cAAAC,MAAA,WADnD7C,GAAAA,KAAOJ,mBAAPiB,KAAA6B,YAPkB,MAQf,IAAAa,EAAgB,sEACnBR,WAAAlC,KAAAkC,WAqDIM,kBAAmBxC,KAAKwC,oBAtDuB,OAMnDxC,KAAM0B,oBAEArC,KAR6CoD,oBAAAV,IAAA,UAAAC,MAAA,SAU9BJ,GAsDnB,GAAIe,EAAS3C,KAAK6B,aAAec,EAASjB,EAtDR,MAAA,IAAAgB,EAAA,gDAAAC,GAwDhCT,WAAYlC,KAAKkC,WAvDnBM,kBAAAxC,KAAAwC,oBA8DA,OA1DAxC,KAAAwC,kBAAAG,EA0DO3C,KAAKyC,oBAzEqCV,IAAA,iBAAAC,MAAA,WAmBjD,IAAAY,EAAKX,KACLY,EAAKX,EAALG,UAAoBJ,KAAWE,SAAAA,GAC/B,OAAAW,EAAAC,aAAAH,EAAAJ,oBArBiD,QAAA,IAAAK,EAwBjD,MAAA,IAAKR,EAAL,yCAAAO,EAAAJ,mBA4DEN,WAAYlC,KAAKkC,WA1DnBE,kBAASG,KAAYC,oBA1B4B,OAAAK,EAAAG,UAAA3D,EAAA,GAAAF,EAAAJ,QAAAM,IAkCjD4D,6BAAYT,EAALU,+BAAP,IAAAC,GAAA,SAAA1E,EAAAU,EAAAJ,GAcAI,EAAAJ,QAVA,SAAAqE,EAAAC,GAA6C,IAApCb,EAAoCa,EAApCb,QAAAA,EAAoCa,EAApCb,MAALc,EAAyCD,EAAzCC,YAA0B5B,EAAe2B,EAAf3B,SAAe6B,EAAAF,EAAAE,UAAAxD,gBAAAC,KAAAoD,GAC5CpD,KAAAwD,QAAUd,EACTR,KAAAA,MAAAA,EACAM,KAAAA,YAAAA,EAFwGxC,KAAnGoC,SAANA,EAIApC,KAAAuD,UAAAA,QA3CgDE,GAAA,SAAAhF,EAAAU,EAAAJ,GAAA,IAmDjDK,EAnDiD,WAqD/C8C,SAAAA,IAAAA,gBAAAA,KAAAA,GACAM,KAAAA,aAFmGxC,KAA9FmC,YAAN,EApDgD,OAAAL,aAAA1C,IAAA2C,IAAA,cAAAC,MAAA,SA0D5CQ,GAgELxC,KAAK0D,UAAUpB,KAAKqB,GA7DpBA,EAAAC,cAAA5D,UA7DiDZ,EAAA,GAgEjDD,EAAAJ,QAAI4D,OACHkB,GAAA,SAAUnB,EAAAA,EAAAA,GAA8E,IAAAU,EAAxF3E,EAAA,iBAIAqF,EAAArF,EAAA,oCAEDa,EAN+B,WAQ/B,SAAAA,EAAAyE,GAAA,IAAO7D,EAAP6D,EAAO7D,KAAKuC,EAAZsB,EAAYtB,YAAZuB,EAAAD,EAAAC,GAAAjE,gBAAAC,KAAAV,GACAU,KAAAE,KAAAA,EA1EiDF,KAAA4B,YAAAA,EAAA5B,KAAAgE,GAAAA,EAAAhE,KAAAuD,UAAA,EA6EjDvD,KAAAiE,WAAA,KAZ+B,OAAAnC,aAAAxC,IAAAyC,IAAA,cAAAC,MAAA,SAY/BkC,GAqEAlE,KAAKkE,WAAaA,EAhElBlE,KAAA+C,aAAWF,EAAehB,eAjBKE,IAAA,MAAAC,MAAA,WAkBqE,QAAnG,IAAAhC,KAAAgE,IAAA,OAAAhE,KAAAgE,GAIA,MAAA,IAAAF,EAAA,oDAkEC5B,WAAYlC,KAAKkE,WAAWhC,WAhE9Ba,WAAOF,KAAAA,aAzF0C,IAAAsB,OAAAA,EAgKjDnE,KAAKuD,YAhKW,IAgGlB,IAAAD,EAAAtD,KAAAgE,KADwGG,EAAA,IAKvGf,GAAkEI,SAApDA,EAAoDY,MAA3CA,KAA2Cd,YAApCA,EAAoClB,SAAvBA,KAAuBmB,UAAbA,KAAaA,YAAA,MAAAa,GAyEhED,EAAa,IAAIf,GAxElBI,SAAKA,EACLY,MAAKA,EACLd,YAAKA,KACLlB,SAAKA,KACLmB,UAAKA,KAAYA,YA+EjB,OAzFqEvD,KAtJ0YiE,WAsKxcE,EAyEAA,KAvHwBpC,IAAA,QAAAC,MAAA,WA2H/BhC,KAAKuD,UAAY,EAvEjBvD,KAAAiE,WAAA,SApD+B3E,EAAA,GA8CQH,EAAAJ,QAAAO,IAAA+E,mCAU5BV,EAV4BW,gBAUlB,SAAA","file":"test-script-runner-babel.min.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){\n'use strict';\n\nvar TestRunner = require('./models/test-runner');\nvar TestCase   = require('./models/test-case');\nvar TestStep   = require('./models/test-step');\n\nif (typeof window.TestScriptRunner == 'undefined') {\n\twindow.TestScriptRunner = {\n\t\tTestRunner: TestRunner,\n\t\tTestCase: TestCase,\n\t\tTestStep: TestStep\n\t};\n} else {\n\twindow.console.log('\"TestScriptRunner\" global variable already taken!');\n}\n},{\"./models/test-case\":6,\"./models/test-runner\":8,\"./models/test-step\":9}],2:[function(require,module,exports){\n'use strict';\n\nclass BaseException {\n\n\tconstructor(message, errorObj) {\n\t\tthis.name = this.constructor.name;\n\t\tthis.message = message + (typeof errorObj == 'undefined' ? '' : '\\nDetails: ' + JSON.stringify(errorObj, null, 4)) + '\\nStacktrace:';\n\n\t\tError.captureStackTrace(this, this.constructor);\n\t}\n\n}\n\nmodule.exports = BaseException;\n},{}],3:[function(require,module,exports){\n'use strict';\n\nconst BaseException = require('./base');\n\nclass FunctionNotFound extends BaseException {}\n\nmodule.exports = FunctionNotFound;\n},{\"./base\":2}],4:[function(require,module,exports){\n'use strict';\n\nconst BaseException = require('./base');\n\nclass OutOfBound extends BaseException {}\n\nmodule.exports = OutOfBound;\n},{\"./base\":2}],5:[function(require,module,exports){\n'use strict';\n\nconst BaseException = require('./base');\n\nclass StepNotFound extends BaseException {}\n\nmodule.exports = StepNotFound;\n},{\"./base\":2}],6:[function(require,module,exports){\n'use strict';\n\nconst OutOfBoundException   = require('../exceptions/out-of-bound');\nconst StepNotFoundException = require('../exceptions/step-not-found');\n\nconst FIRST_STEP_ID = 1;\n\nclass TestCase {\n\n\tconstructor({ name, description }) {\n\t\tthis.name = name;\n\t\tthis.description = description;\n\t\tthis.testSteps = [];\n\t\tthis.stepCounter = 0;\n\t\tthis.currentStepNumber = FIRST_STEP_ID;\n\t}\n\n\tsetTestRunner(testRunner) {\n\t\tthis.testRunner = testRunner;\n\t\tthis.caseNumber = ++testRunner.caseCounter;\n\t}\n\n\taddTestStep(testStep) {\n\t\tthis.testSteps.push(testStep);\n\n\t\ttestStep.setTestCase(this);\n\t}\n\n\thasPrevStep() {\n\t\treturn this.currentStepNumber > FIRST_STEP_ID;\n\t}\n\n\thasNextStep() {\n\t\treturn this.currentStepNumber < this.stepCounter;\n\t}\n\n\trunPrevStep() {\n\t\tif (this.currentStepNumber <= FIRST_STEP_ID) {\n\t\t\tthrow new OutOfBoundException('Cannot run the previous step, because the current one is the first one!', {\n\t\t\t\tcaseNumber: this.caseNumber,\n\t\t\t\tcurrentStepNumber: this.currentStepNumber\n\t\t\t});\n\t\t}\n\n\t\tthis.currentStepNumber--;\n\n\t\treturn this.runCurrentStep();\n\t}\n\n\trunNextStep() {\n\t\tif (this.currentStepNumber >= this.stepCounter) {\n\t\t\tthrow new OutOfBoundException('Cannot run the next step, because the current one is the last one!', {\n\t\t\t\tcaseNumber: this.caseNumber,\n\t\t\t\tcurrentStepNumber: this.currentStepNumber\n\t\t\t});\n\t\t}\n\n\t\tthis.currentStepNumber++;\n\n\t\treturn this.runCurrentStep();\n\t}\n\n\trunStep(stepId) {\n\t\tif (stepId > this.stepCounter || stepId < FIRST_STEP_ID) {\n\t\t\tthrow new OutOfBoundException('The given ID is not valid, its out of bound: ' + stepId, {\n\t\t\t\tcaseNumber: this.caseNumber,\n\t\t\t\tcurrentStepNumber: this.currentStepNumber\n\t\t\t});\n\t\t}\n\n\t\tthis.currentStepNumber = stepId;\n\n\t\treturn this.runCurrentStep();\n\t}\n\n\trunCurrentStep() {\n\t\tlet self = this,\n\t\t\tcurrentStep = self.testSteps.find((step) => {\n\t\t\t\treturn step.stepNumber === self.currentStepNumber;\n\t\t\t});\n\n\t\tif (typeof currentStep == 'undefined') {\n\t\t\tthrow new StepNotFoundException('Step not found with the following ID: ' + self.currentStepNumber, {\n\t\t\t\tcaseNumber: this.caseNumber,\n\t\t\t\tcurrentStepNumber: this.currentStepNumber\n\t\t\t});\n\t\t}\n\n\t\treturn currentStep.run();\n\t}\n\n}\n\nmodule.exports = TestCase;\n},{\"../exceptions/out-of-bound\":4,\"../exceptions/step-not-found\":5}],7:[function(require,module,exports){\n'use strict';\n\nclass TestResult {\n\n\tconstructor({ success, error, returnValue, testStep, runNumber }) {\n\t\tthis.success = success;\n\t\tthis.error = error;\n\t\tthis.returnValue = returnValue;\n\t\tthis.testStep = testStep;\n\t\tthis.runNumber = runNumber;\n\t}\n\n}\n\nmodule.exports = TestResult;\n},{}],8:[function(require,module,exports){\n'use strict';\n\nclass TestRunner {\n\n\tconstructor() {\n\t\tthis.testCases = [];\n\t\tthis.caseCounter = 0;\n\t}\n\n\taddTestCase(testCase) {\n\t\tthis.testCases.push(testCase);\n\n\t\ttestCase.setTestRunner(this);\n\t}\n}\n\nmodule.exports = TestRunner;\n},{}],9:[function(require,module,exports){\n'use strict';\n\nconst TestResult                = require('./test-result');\nconst FunctionNotFoundException = require('../exceptions/function-not-found');\n\nclass TestStep {\n\n\tconstructor({ name, description, fn }) {\n\t\tthis.name = name;\n\t\tthis.description = description;\n\t\tthis.fn = fn;\n\t\tthis.runNumber = 0;\n\t\tthis.lastResult = null;\n\t}\n\n\tsetTestCase(parentCase) {\n\t\tthis.parentCase = parentCase;\n\t\tthis.stepNumber = ++parentCase.stepCounter;\n\t}\n\n\trun() {\n\t\tif (typeof this.fn == 'undefined' || this.fn === null) {\n\t\t\tthrow new FunctionNotFoundException('No test function provided to this step function!', {\n\t\t\t\tcaseNumber: this.parentCase.caseNumber,\n\t\t\t\tstepNumber: this.stepNumber\n\t\t\t});\n\t\t}\n\n\t\tlet testResult;\n\n\t\tthis.runNumber++;\n\n\t\ttry {\n\t\t\tlet returnValue = this.fn();\n\n\t\t\ttestResult = new TestResult({\n\t\t\t\tsuccess: true,\n\t\t\t\terror: null,\n\t\t\t\treturnValue: returnValue,\n\t\t\t\ttestStep: this,\n\t\t\t\trunNumber: this.runNumber\n\t\t\t});\n\t\t} catch (error) {\n\t\t\ttestResult = new TestResult({\n\t\t\t\tsuccess: false,\n\t\t\t\terror: error,\n\t\t\t\treturnValue: null,\n\t\t\t\ttestStep: this,\n\t\t\t\trunNumber: this.runNumber\n\t\t\t});\n\t\t}\n\n\t\tthis.lastResult = testResult;\n\n\t\treturn testResult;\n\t}\n\n\treset() {\n\t\tthis.runNumber = 0;\n\t\tthis.lastResult = null;\n\t}\n\n}\n\nmodule.exports = TestStep;\n},{\"../exceptions/function-not-found\":3,\"./test-result\":7}]},{},[1]);\n"]}