!function(){return function t(e,r,s){function n(i,o){if(!r[i]){if(!e[i]){var c="function"==typeof require&&require;if(!o&&c)return c(i,!0);if(u)return u(i,!0);var h=new Error("Cannot find module '"+i+"'");throw h.code="MODULE_NOT_FOUND",h}var p=r[i]={exports:{}};e[i][0].call(p.exports,function(t){var r=e[i][1][t];return n(r||t)},p,p.exports,t,e,r,s)}return r[i].exports}for(var u="function"==typeof require&&require,i=0;i<s.length;i++)n(s[i]);return n}}()({1:[function(t,e,r){"use strict";var s=t("./models/test-runner"),n=t("./models/test-case"),u=t("./models/test-step");void 0===window.TestScriptRunner?window.TestScriptRunner={TestRunner:s,TestCase:n,TestStep:u}:window.console.log('"TestScriptRunner" global variable already taken!')},{"./models/test-case":6,"./models/test-runner":8,"./models/test-step":9}],2:[function(t,e,r){"use strict";e.exports=class{constructor(t,e){this.name=this.constructor.name,this.message=t+(void 0===e?"":"\nDetails: "+JSON.stringify(e,null,4))+"\nStacktrace:",Error.captureStackTrace(this,this.constructor)}}},{}],3:[function(t,e,r){"use strict";const s=t("./base");e.exports=class extends s{}},{"./base":2}],4:[function(t,e,r){"use strict";const s=t("./base");e.exports=class extends s{}},{"./base":2}],5:[function(t,e,r){"use strict";const s=t("./base");e.exports=class extends s{}},{"./base":2}],6:[function(t,e,r){"use strict";const s=t("../exceptions/out-of-bound"),n=t("../exceptions/step-not-found");e.exports=class{constructor({name:t,description:e}){this.name=t,this.description=e,this.testSteps=[],this.currentStepNumber=0}get stepCounter(){return this.testSteps.length}get currentStep(){var t=this;return t.testSteps.find(e=>e.stepNumber===t.currentStepNumber)}setTestRunner(t){this.testRunner=t,this.caseNumber=t.caseCounter-1}addTestStep(t){this.testSteps.push(t),t.setTestCase(this)}hasPrevStep(){return this.currentStepNumber>0}hasNextStep(){return this.currentStepNumber<this.stepCounter}runPrevStep(t=!1){if(this.currentStepNumber<=0)throw new s("Cannot run the previous step, because the current one is the first one!",{caseNumber:this.caseNumber,currentStepNumber:this.currentStepNumber});return this.currentStepNumber--,this.runCurrentStep(t)}runNextStep(t=!1){if(this.currentStepNumber+1>=this.stepCounter)throw new s("Cannot run the next step, because the current one is the last one!",{caseNumber:this.caseNumber,currentStepNumber:this.currentStepNumber});return this.currentStepNumber++,this.runCurrentStep(t)}runStep(t,e=!1){if(t>this.stepCounter||t<0)throw new s("The given ID is not valid, its out of bound: "+t,{caseNumber:this.caseNumber,currentStepNumber:this.currentStepNumber});return this.currentStepNumber=t,this.runCurrentStep(e)}runCurrentStep(t=!1){if(void 0===this.currentStep)throw new n("Step not found with the following ID: "+this.currentStepNumber,{caseNumber:this.caseNumber,currentStepNumber:this.currentStepNumber});return t?this.currentStep.runAsync():this.currentStep.run()}}},{"../exceptions/out-of-bound":4,"../exceptions/step-not-found":5}],7:[function(t,e,r){"use strict";e.exports=class{constructor({success:t,error:e,returnValue:r,testStep:s,runNumber:n}){this.success=t,this.error=e,this.returnValue=r,this.testStep=s,this.runNumber=n}}},{}],8:[function(t,e,r){"use strict";e.exports=class{constructor(){this.testCases=[]}get caseCounter(){return this.testCases.length}addTestCase(t){this.testCases.push(t),t.setTestRunner(this)}}},{}],9:[function(t,e,r){"use strict";const s=t("./test-result"),n=t("../exceptions/function-not-found");e.exports=class{constructor({name:t,description:e,fn:r}){this.name=t,this.description=e,this.fn=r,this.runNumber=0,this.lastResult=null}setTestCase(t){this.testCase=t,this.stepNumber=t.stepCounter-1}run(){if(void 0===this.fn||null===this.fn)throw new n("No test function provided to this step function!",{caseNumber:this.testCase.caseNumber,stepNumber:this.stepNumber});let t;this.runNumber++;try{let e=this.fn();t=new s({success:!0,error:null,returnValue:e,testStep:this,runNumber:this.runNumber})}catch(e){t=new s({success:!1,error:e,returnValue:null,testStep:this,runNumber:this.runNumber})}return this.lastResult=t,t}runAsync(){let t=this;if(void 0===t.fn||null===t.fn)throw new n("No test function provided to this step function!",{caseNumber:t.testCase.caseNumber,stepNumber:t.stepNumber});return t.runNumber++,new Promise(function(e,r){try{e(t.fn())}catch(t){r(t)}}).then(e=>{let r=new s({success:!0,error:null,returnValue:e,testStep:t,runNumber:t.runNumber});return t.lastResult=r,r}).catch(e=>{let r=new s({success:!1,error:e,returnValue:null,testStep:t,runNumber:t.runNumber});throw t.lastResult=r,r})}reset(){this.runNumber=0,this.lastResult=null}}},{"../exceptions/function-not-found":3,"./test-result":7}]},{},[1]);
//# sourceMappingURL=test-script-runner.min.js.map
