!function(){return function t(e,s,r){function n(i,o){if(!s[i]){if(!e[i]){var c="function"==typeof require&&require;if(!o&&c)return c(i,!0);if(u)return u(i,!0);var h=new Error("Cannot find module '"+i+"'");throw h.code="MODULE_NOT_FOUND",h}var a=s[i]={exports:{}};e[i][0].call(a.exports,function(t){var s=e[i][1][t];return n(s||t)},a,a.exports,t,e,s,r)}return s[i].exports}for(var u="function"==typeof require&&require,i=0;i<r.length;i++)n(r[i]);return n}}()({1:[function(t,e,s){"use strict";var r=t("./models/test-runner"),n=t("./models/test-case"),u=t("./models/test-step");void 0===window.TestScriptRunner?window.TestScriptRunner={TestRunner:r,TestCase:n,TestStep:u}:window.console.log('"TestScriptRunner" global variable already taken!')},{"./models/test-case":6,"./models/test-runner":8,"./models/test-step":9}],2:[function(t,e,s){"use strict";e.exports=class{constructor(t,e){this.name=this.constructor.name,this.message=t+(void 0===e?"":"\nDetails: "+JSON.stringify(e,null,4))+"\nStacktrace:",Error.captureStackTrace(this,this.constructor)}}},{}],3:[function(t,e,s){"use strict";const r=t("./base");e.exports=class extends r{}},{"./base":2}],4:[function(t,e,s){"use strict";const r=t("./base");e.exports=class extends r{}},{"./base":2}],5:[function(t,e,s){"use strict";const r=t("./base");e.exports=class extends r{}},{"./base":2}],6:[function(t,e,s){"use strict";const r=t("../exceptions/out-of-bound"),n=t("../exceptions/step-not-found"),u=1;e.exports=class{constructor({name:t,description:e}){this.name=t,this.description=e,this.testSteps=[],this.stepCounter=0,this.currentStepNumber=u}setTestRunner(t){this.testRunner=t,this.caseNumber=++t.caseCounter}addTestStep(t){this.testSteps.push(t),t.setTestCase(this)}hasPrevStep(){return this.currentStepNumber>u}hasNextStep(){return this.currentStepNumber<this.stepCounter}runPrevStep(t=!1){if(this.currentStepNumber<=u)throw new r("Cannot run the previous step, because the current one is the first one!",{caseNumber:this.caseNumber,currentStepNumber:this.currentStepNumber});return this.currentStepNumber--,this.runCurrentStep(t)}runNextStep(t=!1){if(this.currentStepNumber>=this.stepCounter)throw new r("Cannot run the next step, because the current one is the last one!",{caseNumber:this.caseNumber,currentStepNumber:this.currentStepNumber});return this.currentStepNumber++,this.runCurrentStep(t)}runStep(t,e=!1){if(t>this.stepCounter||t<u)throw new r("The given ID is not valid, its out of bound: "+t,{caseNumber:this.caseNumber,currentStepNumber:this.currentStepNumber});return this.currentStepNumber=t,this.runCurrentStep(e)}runCurrentStep(t=!1){let e=this,s=e.testSteps.find(t=>t.stepNumber===e.currentStepNumber);if(void 0===s)throw new n("Step not found with the following ID: "+e.currentStepNumber,{caseNumber:this.caseNumber,currentStepNumber:this.currentStepNumber});return t?s.runAsync():s.run()}}},{"../exceptions/out-of-bound":4,"../exceptions/step-not-found":5}],7:[function(t,e,s){"use strict";e.exports=class{constructor({success:t,error:e,returnValue:s,testStep:r,runNumber:n}){this.success=t,this.error=e,this.returnValue=s,this.testStep=r,this.runNumber=n}}},{}],8:[function(t,e,s){"use strict";e.exports=class{constructor(){this.testCases=[],this.caseCounter=0}addTestCase(t){this.testCases.push(t),t.setTestRunner(this)}}},{}],9:[function(t,e,s){"use strict";const r=t("./test-result"),n=t("../exceptions/function-not-found");e.exports=class{constructor({name:t,description:e,fn:s}){this.name=t,this.description=e,this.fn=s,this.runNumber=0,this.lastResult=null}setTestCase(t){this.testCase=t,this.stepNumber=++t.stepCounter}run(){if(void 0===this.fn||null===this.fn)throw new n("No test function provided to this step function!",{caseNumber:this.testCase.caseNumber,stepNumber:this.stepNumber});let t;this.runNumber++;try{let e=this.fn();t=new r({success:!0,error:null,returnValue:e,testStep:this,runNumber:this.runNumber})}catch(e){t=new r({success:!1,error:e,returnValue:null,testStep:this,runNumber:this.runNumber})}return this.lastResult=t,t}runAsync(){let t=this;if(void 0===t.fn||null===t.fn)throw new n("No test function provided to this step function!",{caseNumber:t.testCase.caseNumber,stepNumber:t.stepNumber});return t.runNumber++,new Promise(function(e,s){try{e(t.fn())}catch(t){s(t)}}).then(e=>{let s=new r({success:!0,error:null,returnValue:e,testStep:t,runNumber:t.runNumber});return t.lastResult=s,s}).catch(e=>{let s=new r({success:!1,error:e,returnValue:null,testStep:t,runNumber:t.runNumber});throw t.lastResult=s,s})}reset(){this.runNumber=0,this.lastResult=null}}},{"../exceptions/function-not-found":3,"./test-result":7}]},{},[1]);
//# sourceMappingURL=test-script-runner.min.js.map
